[gd_scene load_steps=4 format=3 uid="uid://lbavaswu5gnq"]

[ext_resource type="PackedScene" uid="uid://dnkvseka2im44" path="res://scenes/combat/hitbox.tscn" id="2_ptxme"]
[ext_resource type="Texture2D" uid="uid://3kkfognvmxhx" path="res://assets/art/sprites/mobs/laser.png" id="3_s7a20"]

[sub_resource type="GDScript" id="GDScript_ptxme"]
script/source = "extends Area2D
class_name Projectile

@export var speed: float = 420.0
@export var lifetime: float = 2.0

@onready var hitbox: Hitbox = $Hitbox

var velocity: Vector2 = Vector2.ZERO

func _ready() -> void:
	hitbox.set_active(true)
	await get_tree().create_timer(lifetime).timeout
	queue_free()

func _physics_process(delta: float) -> void:
	global_position += velocity * delta
"

[node name="Projectile" type="Area2D"]
script = SubResource("GDScript_ptxme")

[node name="Hitbox" parent="." instance=ExtResource("2_ptxme")]

[node name="Sprite2D" type="Sprite2D" parent="."]
scale = Vector2(0.2, 0.2)
texture = ExtResource("3_s7a20")
